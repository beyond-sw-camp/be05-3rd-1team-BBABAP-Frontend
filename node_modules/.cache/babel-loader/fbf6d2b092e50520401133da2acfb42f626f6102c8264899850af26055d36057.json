{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"KakaoMap\",\n  props: {\n    favorites: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      keyword: \"\",\n      places: [],\n      markers: [],\n      infoWindow: null // infoWindow 변수 추가\n    };\n  },\n  mounted() {\n    if (window.kakao && window.kakao.maps) {\n      this.initMap();\n    } else {\n      const script = document.createElement(\"script\");\n      script.onload = () => window.kakao.maps.load(this.initMap);\n      script.src = \"//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=915cffed372954b7b44804ed422b9cf0&libraries=services\";\n      document.head.appendChild(script);\n    }\n  },\n  methods: {\n    initMap() {\n      const container = document.getElementById(\"map\");\n      const options = {\n        center: new window.kakao.maps.LatLng(37.566826, 126.9786567),\n        level: 3\n      };\n      this.map = new window.kakao.maps.Map(container, options);\n\n      // 전기차 충전소 마커를 표시합니다\n      this.displayElectricChargingStation();\n    },\n    displayElectricChargingStation() {\n      const ps = new window.kakao.maps.services.Places();\n      ps.categorySearch('OL7', this.placesSearchCB);\n    },\n    searchPlaces() {\n      if (!this.keyword.trim()) {\n        alert(\"키워드를 입력해주세요!\");\n        return;\n      }\n\n      // 검색을 place_name으로 변경\n      const ps = new window.kakao.maps.services.Places();\n      // ps.keywordSearch(this.keyword, this.placesSearchCB);\n      ps.keywordSearch(this.keyword, this.placesSearchCB, {\n        useMapBounds: true\n      });\n    },\n    placesSearchCB(data, status, pagination) {\n      if (status === window.kakao.maps.services.Status.OK) {\n        this.places = data;\n        this.displayPlaces();\n        this.displayPagination(pagination);\n      } else if (status === window.kakao.maps.services.Status.ZERO_RESULT) {\n        alert(\"검색 결과가 존재하지 않습니다.\");\n      } else if (status === window.kakao.maps.services.Status.ERROR) {\n        alert(\"검색 결과 중 오류가 발생했습니다.\");\n      }\n    },\n    displayPlaces() {\n      // 기존 마커 제거\n      this.removeMarkers();\n      const bounds = new window.kakao.maps.LatLngBounds();\n\n      // 검색 결과에 따라 마커 추가\n      this.places.forEach((place, index) => {\n        const position = new window.kakao.maps.LatLng(place.y, place.x);\n        const markerImage = new window.kakao.maps.MarkerImage(\"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png\", new window.kakao.maps.Size(36, 37), {\n          spriteSize: new window.kakao.maps.Size(36, 691),\n          spriteOrigin: new window.kakao.maps.Point(0, index * 46 + 10),\n          offset: new window.kakao.maps.Point(13, 37)\n        });\n        const marker = new window.kakao.maps.Marker({\n          position,\n          image: markerImage\n        });\n        marker.setMap(this.map);\n        this.markers.push(marker);\n        bounds.extend(position);\n        window.kakao.maps.event.addListener(marker, 'click', () => {\n          this.closeInfoWindows();\n          this.displayInfoWindow(place);\n        });\n      });\n      this.map.setBounds(bounds);\n    },\n    closeInfoWindows() {\n      if (this.infoWindow) {\n        this.infoWindow.setMap(null);\n      }\n    },\n    displayInfoWindow(place) {\n      const infoWindowStyle = `\n    padding: 10px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.2);\n    max-width: 300px;\n    text-align: left;\n    position: absolute;\n    z-index: 1;\n  `;\n      const content = `\n    <div id=\"infoWindowContent\" style=\"${infoWindowStyle}\">\n      <h5>${place.place_name}</h5>\n      <p>${place.road_address_name}</p>\n      <p class=\"jibun gray\">${place.address_name}</p>\n      <p class=\"tel\">${place.phone}</p>\n      <button id=\"favoriteButton\">\n        즐겨찾기 ${this.isFavorite(place) ? '제거' : '추가'}\n      </button>\n    </div>\n  `;\n      const position = new window.kakao.maps.LatLng(place.y, place.x);\n      const overlay = new window.kakao.maps.CustomOverlay({\n        content: content,\n        map: this.map,\n        position: position\n      });\n\n      // 즐겨찾기 버튼에 대한 클릭 이벤트 처리\n      const button = document.getElementById('favoriteButton');\n      button.addEventListener('click', () => {\n        this.addToFavorites(place);\n      });\n      this.infoWindow = overlay;\n    },\n    addToFavorites(place) {\n      if (!this.isFavorite(place)) {\n        this.addFavorite(place);\n      } else {\n        this.removeFavorite(place);\n      }\n    },\n    displayPagination(pagination) {\n      const paginationEl = document.getElementById(\"pagination\");\n      paginationEl.innerHTML = \"\";\n      for (let i = 1; i <= pagination.last; i++) {\n        const el = document.createElement(\"a\");\n        el.href = \"#\";\n        el.textContent = i;\n        if (i === pagination.current) {\n          el.className = \"on\";\n        } else {\n          el.onclick = () => {\n            pagination.gotoPage(i);\n          };\n        }\n        paginationEl.appendChild(el);\n      }\n    },\n    removeMarkers() {\n      this.markers.forEach(marker => marker.setMap(null));\n      this.markers = [];\n    },\n    toggleFavorite(place) {\n      if (this.isFavorite(place)) {\n        this.removeFavorite(place);\n      } else {\n        this.addFavorite(place);\n      }\n    },\n    async addFavorite(place) {\n      try {\n        const response = await fetch('http://localhost:3000/favorites', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(place)\n        });\n        if (response.ok) {\n          const data = await response.json();\n          this.$root.favorites.push(data);\n        } else {\n          console.error('Failed to add favorite');\n        }\n      } catch (error) {\n        console.error('Error adding favorite:', error);\n      }\n    },\n    async removeFavorite(place) {\n      try {\n        const index = this.$root.favorites.findIndex(favorite => favorite.place_name === place.place_name);\n        const response = await fetch(`http://localhost:3000/favorites/${this.$root.favorites[index].id}`, {\n          method: 'DELETE'\n        });\n        if (response.ok) {\n          this.$root.favorites.splice(index, 1);\n        } else {\n          console.error('Failed to remove favorite');\n        }\n      } catch (error) {\n        console.error('Error removing favorite:', error);\n      }\n    },\n    isFavorite(place) {\n      return this.favorites.some(favorite => favorite.place_name === place.place_name);\n    }\n  }\n};","map":{"version":3,"names":["name","props","favorites","type","Array","default","data","keyword","places","markers","infoWindow","mounted","window","kakao","maps","initMap","script","document","createElement","onload","load","src","head","appendChild","methods","container","getElementById","options","center","LatLng","level","map","Map","displayElectricChargingStation","ps","services","Places","categorySearch","placesSearchCB","searchPlaces","trim","alert","keywordSearch","useMapBounds","status","pagination","Status","OK","displayPlaces","displayPagination","ZERO_RESULT","ERROR","removeMarkers","bounds","LatLngBounds","forEach","place","index","position","y","x","markerImage","MarkerImage","Size","spriteSize","spriteOrigin","Point","offset","marker","Marker","image","setMap","push","extend","event","addListener","closeInfoWindows","displayInfoWindow","setBounds","infoWindowStyle","content","place_name","road_address_name","address_name","phone","isFavorite","overlay","CustomOverlay","button","addEventListener","addToFavorites","addFavorite","removeFavorite","paginationEl","innerHTML","i","last","el","href","textContent","current","className","onclick","gotoPage","toggleFavorite","response","fetch","method","headers","body","JSON","stringify","ok","json","$root","console","error","findIndex","favorite","id","splice","some"],"sources":["C:\\encore\\be05-3rd-1team-BBABAP-Frontend\\src\\components\\KakaoMap.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"map_wrap\">\n      <div id=\"map\" style=\"width: 100%; height: 500px; position: relative; overflow: hidden;\"></div>\n\n      <div id=\"menu_wrap\" class=\"bg_white\">\n        <div class=\"option\">\n          <div>\n            <form @submit.prevent=\"searchPlaces\">\n              키워드 : <input type=\"text\" v-model=\"keyword\" size=\"15\" placeholder=\"전기차\">\n              <button type=\"submit\">검색하기</button>\n            </form>\n          </div>\n        </div>\n        <hr>\n        <button @click=\"findMyLocation\">내 위치 찾기</button>\n        <ul id=\"placesList\">\n          <li v-for=\"(place, index) in places\" :key=\"index\" class=\"item\">\n            <span :class=\"'markerbg marker_' + (index + 1)\"></span>\n            <div class=\"info\">\n              <h5>{{ place.place_name }}</h5>\n              <span>{{ place.road_address_name }}</span>\n              <span class=\"jibun gray\">{{ place.address_name }}</span>\n              <span class=\"tel\">{{ place.phone }}</span>\n              <span>\n                <button @click=\"toggleFavorite(place)\">\n                  {{ isFavorite(place) ? '제거' : '추가' }}\n                </button>\n              </span>\n            </div>\n          </li>\n        </ul>\n        <div id=\"pagination\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"KakaoMap\",\n  props: {\n    favorites: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      keyword: \"\",\n      places: [],\n      markers: [],\n      infoWindow: null // infoWindow 변수 추가\n    };\n  },\n  mounted() {\n    if (window.kakao && window.kakao.maps) {\n      this.initMap();\n    } else {\n      const script = document.createElement(\"script\");\n      script.onload = () => window.kakao.maps.load(this.initMap);\n      script.src =\n        \"//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=915cffed372954b7b44804ed422b9cf0&libraries=services\";\n      document.head.appendChild(script);\n    }\n  },\n  methods: {\n    initMap() {\n      const container = document.getElementById(\"map\");\n      const options = {\n        center: new window.kakao.maps.LatLng(37.566826, 126.9786567),\n        level: 3\n      };\n\n      this.map = new window.kakao.maps.Map(container, options);\n\n      // 전기차 충전소 마커를 표시합니다\n      this.displayElectricChargingStation();\n    },\n    displayElectricChargingStation() {\n      const ps = new window.kakao.maps.services.Places();\n      ps.categorySearch('OL7', this.placesSearchCB);\n    },\n    searchPlaces() {\n      if (!this.keyword.trim()) {\n        alert(\"키워드를 입력해주세요!\");\n        return;\n      }\n\n      // 검색을 place_name으로 변경\n      const ps = new window.kakao.maps.services.Places();\n      // ps.keywordSearch(this.keyword, this.placesSearchCB);\n      ps.keywordSearch(this.keyword, this.placesSearchCB, { useMapBounds: true });\n    },\n    placesSearchCB(data, status, pagination) {\n      if (status === window.kakao.maps.services.Status.OK) {\n        this.places = data;\n        this.displayPlaces();\n        this.displayPagination(pagination);\n      } else if (status === window.kakao.maps.services.Status.ZERO_RESULT) {\n        alert(\"검색 결과가 존재하지 않습니다.\");\n      } else if (status === window.kakao.maps.services.Status.ERROR) {\n        alert(\"검색 결과 중 오류가 발생했습니다.\");\n      }\n    },\n    displayPlaces() {\n      // 기존 마커 제거\n      this.removeMarkers();\n\n      const bounds = new window.kakao.maps.LatLngBounds();\n\n      // 검색 결과에 따라 마커 추가\n      this.places.forEach((place, index) => {\n        const position = new window.kakao.maps.LatLng(place.y, place.x);\n        const markerImage = new window.kakao.maps.MarkerImage(\n          \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png\",\n          new window.kakao.maps.Size(36, 37),\n          {\n            spriteSize: new window.kakao.maps.Size(36, 691),\n            spriteOrigin: new window.kakao.maps.Point(0, (index * 46) + 10),\n            offset: new window.kakao.maps.Point(13, 37)\n          }\n        );\n        const marker = new window.kakao.maps.Marker({\n          position,\n          image: markerImage\n        });\n\n        marker.setMap(this.map);\n        this.markers.push(marker);\n\n        bounds.extend(position);\n\n        window.kakao.maps.event.addListener(marker, 'click', () => {\n          this.closeInfoWindows();\n          this.displayInfoWindow(place);\n        });\n      });\n\n      this.map.setBounds(bounds);\n    },\n    closeInfoWindows() {\n      if (this.infoWindow) {\n        this.infoWindow.setMap(null);\n      }\n    },\n    displayInfoWindow(place) {\n  const infoWindowStyle = `\n    padding: 10px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.2);\n    max-width: 300px;\n    text-align: left;\n    position: absolute;\n    z-index: 1;\n  `;\n\n  const content = `\n    <div id=\"infoWindowContent\" style=\"${infoWindowStyle}\">\n      <h5>${place.place_name}</h5>\n      <p>${place.road_address_name}</p>\n      <p class=\"jibun gray\">${place.address_name}</p>\n      <p class=\"tel\">${place.phone}</p>\n      <button id=\"favoriteButton\">\n        즐겨찾기 ${this.isFavorite(place) ? '제거' : '추가'}\n      </button>\n    </div>\n  `;\n\n  const position = new window.kakao.maps.LatLng(place.y, place.x);\n  const overlay = new window.kakao.maps.CustomOverlay({\n    content: content,\n    map: this.map,\n    position: position\n  });\n\n  // 즐겨찾기 버튼에 대한 클릭 이벤트 처리\n  const button = document.getElementById('favoriteButton');\n  button.addEventListener('click', () => {\n    this.addToFavorites(place);\n  });\n\n  this.infoWindow = overlay;\n},\n\n    addToFavorites(place) {\n      if (!this.isFavorite(place)) {\n        this.addFavorite(place);\n      } else {\n        this.removeFavorite(place);\n      }\n    },\n    displayPagination(pagination) {\n      const paginationEl = document.getElementById(\"pagination\");\n      paginationEl.innerHTML = \"\";\n\n      for (let i = 1; i <= pagination.last; i++) {\n        const el = document.createElement(\"a\");\n        el.href = \"#\";\n        el.textContent = i;\n\n        if (i === pagination.current) {\n          el.className = \"on\";\n        } else {\n          el.onclick = () => {\n            pagination.gotoPage(i);\n          };\n        }\n\n        paginationEl.appendChild(el);\n      }\n    },\n    removeMarkers() {\n      this.markers.forEach(marker => marker.setMap(null));\n      this.markers = [];\n    },\n    toggleFavorite(place) {\n      if (this.isFavorite(place)) {\n        this.removeFavorite(place);\n      } else {\n        this.addFavorite(place);\n      }\n    },\n    async addFavorite(place) {\n      try {\n        const response = await fetch('http://localhost:3000/favorites', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(place)\n        });\n        if (response.ok) {\n          const data = await response.json();\n          this.$root.favorites.push(data);\n        } else {\n          console.error('Failed to add favorite');\n        }\n      } catch (error) {\n        console.error('Error adding favorite:', error);\n      }\n    },\n    async removeFavorite(place) {\n      try {\n        const index = this.$root.favorites.findIndex(favorite => favorite.place_name === place.place_name);\n        const response = await fetch(`http://localhost:3000/favorites/${this.$root.favorites[index].id}`, {\n          method: 'DELETE'\n        });\n        if (response.ok) {\n          this.$root.favorites.splice(index, 1);\n        } else {\n          console.error('Failed to remove favorite');\n        }\n      } catch (error) {\n        console.error('Error removing favorite:', error);\n      }\n    },\n    isFavorite(place) {\n      return this.favorites.some(favorite => favorite.place_name === place.place_name);\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 여기에 스타일을 추가합니다 */\n#menu_wrap {\n  background-color: rgba(255, 255, 255, 0.9);\n  padding: 15px;\n  border-radius: 10px;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\n}\n.option {\n  margin-bottom: 15px;\n  text-align: center;\n}\n.option input[type=\"text\"] {\n  width: 70%;\n  height: 30px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  padding: 5px;\n}\n.option button[type=\"submit\"] {\n  width: 25%;\n  height: 36px;\n  border: none;\n  border-radius: 5px;\n  background-color: #007bff;\n  color: white;\n  cursor: pointer;\n}\n.option button[type=\"submit\"]:hover {\n  background-color: #0056b3;\n}\n#placesList {\n  padding: 0;\n  list-style: none;\n}\n#placesList .item {\n  border-bottom: 1px solid #ddd;\n  padding: 10px 0;\n}\n#placesList .item:last-child {\n  border-bottom: none;\n}\n#placesList .item h5 {\n  margin-bottom: 5px;\n}\n#placesList .item .info {\n  color: #666;\n}\n#placesList .item .tel {\n  color: #009900;\n}\n.item button {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 5px;\n  background-color: #28a745; /* Green color */\n  color: white;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.item button:hover {\n  background-color: #218838; /* Darker green color on hover */\n}\n\n.infoWindow {\n  padding: 10px;\n  background-color: rgba(255, 255, 255, 0.9); /* 밝은 배경색 */\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.2);\n  max-width: 300px; /* 내용의 최대 너비 설정 */\n  text-align: left;\n  position: absolute;\n  z-index: 1;\n}\n\n.infoWindow h5 {\n  margin: 0 0 5px;\n  font-size: 16px;\n}\n.infoWindow p {\n  margin: 5px 0;\n}\n.infoWindow .tel {\n  color: #009900;\n}\n.infoWindow button {\n  display: block;\n  margin-top: 10px;\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #28a745;\n  color: white;\n  cursor: pointer;\n}\n.infoWindow button:hover {\n  background-color: #218838;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}