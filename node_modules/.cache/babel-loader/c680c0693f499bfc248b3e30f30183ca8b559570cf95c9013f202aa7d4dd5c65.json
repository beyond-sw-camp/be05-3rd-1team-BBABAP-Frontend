{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"KakaoMap\",\n  data() {\n    return {\n      keyword: \"\",\n      places: [],\n      markers: []\n    };\n  },\n  mounted() {\n    if (window.kakao && window.kakao.maps) {\n      this.initMap();\n    } else {\n      const script = document.createElement(\"script\");\n      script.onload = () => window.kakao.maps.load(this.initMap);\n      script.src = \"//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=915cffed372954b7b44804ed422b9cf0&libraries=services\";\n      document.head.appendChild(script);\n    }\n  },\n  methods: {\n    initMap() {\n      const container = document.getElementById(\"map\");\n      const options = {\n        center: new window.kakao.maps.LatLng(37.566826, 126.9786567),\n        level: 3\n      };\n      this.map = new window.kakao.maps.Map(container, options);\n\n      // 전기차 충전소 마커를 표시합니다\n      this.displayElectricChargingStation();\n    },\n    displayElectricChargingStation() {\n      const ps = new window.kakao.maps.services.Places();\n      ps.categorySearch('OL7', this.placesSearchCB);\n    },\n    searchPlaces() {\n      if (!this.keyword.trim()) {\n        alert(\"키워드를 입력해주세요!\");\n        return;\n      }\n\n      // 검색을 place_name으로 변경\n      const ps = new window.kakao.maps.services.Places();\n      // ps.keywordSearch(this.keyword, this.placesSearchCB);\n      ps.keywordSearch(this.keyword, this.placesSearchCB, {\n        useMapBounds: true\n      });\n    },\n    placesSearchCB(data, status, pagination) {\n      if (status === window.kakao.maps.services.Status.OK) {\n        this.places = data;\n        this.displayPlaces();\n        this.displayPagination(pagination);\n      } else if (status === window.kakao.maps.services.Status.ZERO_RESULT) {\n        alert(\"검색 결과가 존재하지 않습니다.\");\n      } else if (status === window.kakao.maps.services.Status.ERROR) {\n        alert(\"검색 결과 중 오류가 발생했습니다.\");\n      }\n    },\n    displayPlaces() {\n      // 기존 마커 제거\n      this.removeMarkers();\n      const bounds = new window.kakao.maps.LatLngBounds();\n\n      // 검색 결과에 따라 마커 추가\n      this.places.forEach((place, index) => {\n        const position = new window.kakao.maps.LatLng(place.y, place.x);\n        const markerImage = new window.kakao.maps.MarkerImage(\"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png\", new window.kakao.maps.Size(36, 37), {\n          spriteSize: new window.kakao.maps.Size(36, 691),\n          spriteOrigin: new window.kakao.maps.Point(0, index * 46 + 10),\n          offset: new window.kakao.maps.Point(13, 37)\n        });\n        const marker = new window.kakao.maps.Marker({\n          position,\n          image: markerImage\n        });\n        marker.setMap(this.map);\n        this.markers.push(marker);\n        bounds.extend(position);\n      });\n      this.map.setBounds(bounds);\n    },\n    displayPagination(pagination) {\n      const paginationEl = document.getElementById(\"pagination\");\n      paginationEl.innerHTML = \"\";\n      for (let i = 1; i <= pagination.last; i++) {\n        const el = document.createElement(\"a\");\n        el.href = \"#\";\n        el.textContent = i;\n        if (i === pagination.current) {\n          el.className = \"on\";\n        } else {\n          el.onclick = () => {\n            pagination.gotoPage(i);\n          };\n        }\n        paginationEl.appendChild(el);\n      }\n    },\n    removeMarkers() {\n      this.markers.forEach(marker => marker.setMap(null));\n      this.markers = [];\n    }\n  }\n};","map":{"version":3,"names":["name","data","keyword","places","markers","mounted","window","kakao","maps","initMap","script","document","createElement","onload","load","src","head","appendChild","methods","container","getElementById","options","center","LatLng","level","map","Map","displayElectricChargingStation","ps","services","Places","categorySearch","placesSearchCB","searchPlaces","trim","alert","keywordSearch","useMapBounds","status","pagination","Status","OK","displayPlaces","displayPagination","ZERO_RESULT","ERROR","removeMarkers","bounds","LatLngBounds","forEach","place","index","position","y","x","markerImage","MarkerImage","Size","spriteSize","spriteOrigin","Point","offset","marker","Marker","image","setMap","push","extend","setBounds","paginationEl","innerHTML","i","last","el","href","textContent","current","className","onclick","gotoPage"],"sources":["C:\\encore\\be05-3rd-1team-BBABAP-Frontend\\src\\components\\KakaoMap.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"map_wrap\">\r\n      <div id=\"map\" style=\"width: 100%; height: 500px; position: relative; overflow: hidden;\"></div>\r\n\r\n      <div id=\"menu_wrap\" class=\"bg_white\">\r\n        <div class=\"option\">\r\n          <div>\r\n            <form @submit.prevent=\"searchPlaces\">\r\n              키워드 : <input type=\"text\" v-model=\"keyword\" size=\"15\" placeholder=\"전기차\">\r\n              <button type=\"submit\">검색하기</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <hr>\r\n        <ul id=\"placesList\">\r\n          <li v-for=\"(place, index) in places\" :key=\"index\" class=\"item\">\r\n            <span :class=\"'markerbg marker_' + (index + 1)\"></span>\r\n            <div class=\"info\">\r\n              <h5>{{ place.place_name }}</h5>\r\n              <span>{{ place.road_address_name }}</span>\r\n              <span class=\"jibun gray\">{{ place.address_name }}</span>\r\n              <span class=\"tel\">{{ place.phone }}</span>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <div id=\"pagination\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"KakaoMap\",\r\n  data() {\r\n    return {\r\n      keyword: \"\",\r\n      places: [],\r\n      markers: []\r\n    };\r\n  },\r\n  mounted() {\r\n    if (window.kakao && window.kakao.maps) {\r\n      this.initMap();\r\n    } else {\r\n      const script = document.createElement(\"script\");\r\n      script.onload = () => window.kakao.maps.load(this.initMap);\r\n      script.src =\r\n        \"//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=915cffed372954b7b44804ed422b9cf0&libraries=services\";\r\n      document.head.appendChild(script);\r\n    }\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      const container = document.getElementById(\"map\");\r\n      const options = {\r\n        center: new window.kakao.maps.LatLng(37.566826, 126.9786567),\r\n        level: 3\r\n      };\r\n\r\n      this.map = new window.kakao.maps.Map(container, options);\r\n\r\n      // 전기차 충전소 마커를 표시합니다\r\n      this.displayElectricChargingStation();\r\n    },\r\n    displayElectricChargingStation() {\r\n      const ps = new window.kakao.maps.services.Places();\r\n      ps.categorySearch('OL7', this.placesSearchCB);\r\n    },\r\n    searchPlaces() {\r\n      if (!this.keyword.trim()) {\r\n        alert(\"키워드를 입력해주세요!\");\r\n        return;\r\n      }\r\n\r\n      // 검색을 place_name으로 변경\r\n      const ps = new window.kakao.maps.services.Places();\r\n      // ps.keywordSearch(this.keyword, this.placesSearchCB);\r\n      ps.keywordSearch(this.keyword, this.placesSearchCB, { useMapBounds: true });\r\n    },\r\n    placesSearchCB(data, status, pagination) {\r\n      if (status === window.kakao.maps.services.Status.OK) {\r\n        this.places = data;\r\n        this.displayPlaces();\r\n        this.displayPagination(pagination);\r\n      } else if (status === window.kakao.maps.services.Status.ZERO_RESULT) {\r\n        alert(\"검색 결과가 존재하지 않습니다.\");\r\n      } else if (status === window.kakao.maps.services.Status.ERROR) {\r\n        alert(\"검색 결과 중 오류가 발생했습니다.\");\r\n      }\r\n    },\r\n    displayPlaces() {\r\n      // 기존 마커 제거\r\n      this.removeMarkers();\r\n\r\n      const bounds = new window.kakao.maps.LatLngBounds();\r\n\r\n      // 검색 결과에 따라 마커 추가\r\n      this.places.forEach((place, index) => {\r\n        const position = new window.kakao.maps.LatLng(place.y, place.x);\r\n        const markerImage = new window.kakao.maps.MarkerImage(\r\n          \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png\",\r\n          new window.kakao.maps.Size(36, 37),\r\n          {\r\n            spriteSize: new window.kakao.maps.Size(36, 691),\r\n            spriteOrigin: new window.kakao.maps.Point(0, (index * 46) + 10),\r\n            offset: new window.kakao.maps.Point(13, 37)\r\n          }\r\n        );\r\n        const marker = new window.kakao.maps.Marker({\r\n          position,\r\n          image: markerImage\r\n        });\r\n\r\n        marker.setMap(this.map);\r\n        this.markers.push(marker);\r\n\r\n        bounds.extend(position);\r\n      });\r\n\r\n      this.map.setBounds(bounds);\r\n    },\r\n    displayPagination(pagination) {\r\n      const paginationEl = document.getElementById(\"pagination\");\r\n      paginationEl.innerHTML = \"\";\r\n\r\n      for (let i = 1; i <= pagination.last; i++) {\r\n        const el = document.createElement(\"a\");\r\n        el.href = \"#\";\r\n        el.textContent = i;\r\n\r\n        if (i === pagination.current) {\r\n          el.className = \"on\";\r\n        } else {\r\n          el.onclick = () => {\r\n            pagination.gotoPage(i);\r\n          };\r\n        }\r\n\r\n        paginationEl.appendChild(el);\r\n      }\r\n    },\r\n    removeMarkers() {\r\n      this.markers.forEach(marker => marker.setMap(null));\r\n      this.markers = [];\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 여기에 스타일을 추가합니다 */\r\n#menu_wrap {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n.option {\r\n  margin-bottom: 15px;\r\n  text-align: center;\r\n}\r\n.option input[type=\"text\"] {\r\n  width: 70%;\r\n  height: 30px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n}\r\n.option button[type=\"submit\"] {\r\n  width: 25%;\r\n  height: 36px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n.option button[type=\"submit\"]:hover {\r\n  background-color: #0056b3;\r\n}\r\n#placesList {\r\n  padding: 0;\r\n  list-style: none;\r\n}\r\n#placesList .item {\r\n  border-bottom: 1px solid #ddd;\r\n  padding: 10px 0;\r\n}\r\n#placesList .item:last-child {\r\n  border-bottom: none;\r\n}\r\n#placesList .item h5 {\r\n  margin-bottom: 5px;\r\n}\r\n#placesList .item .info {\r\n  color: #666;\r\n}\r\n#placesList .item .tel {\r\n  color: #009900;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}